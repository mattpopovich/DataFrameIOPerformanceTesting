# DataFrame I/O Performance Testing
Testing the speeds and compression of reading and writing DataFrames to/from disk.

## The Situation
You: Have data. You read it, store it, use it. You want to know what is the "best" way to do this.

This repo: Specify your `.csv` file, the repo will load it into a Pandas `DataFrame` then write it and read it through all the many options that Python/Pandas provides. Lastly, it will give you a summary of the performance statistics.

## How to Use
Modify the `input_path` in `read_csv.py`. Then run it: `python3 read_csv.py`. A Dockerfile is provided to manage the repo's requirements.

Example output with a 7.4MB `.csv` file for `input_path`:
```
┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━┓
┃                ┃ DataFrame  ┃          ┃ Read     ┃          ┃ Output   ┃          ┃            ┃
┃                ┃ Memory     ┃ Write    ┃ time     ┃          ┃ File     ┃          ┃            ┃
┃                ┃ Difference ┃ time to  ┃ from     ┃ Total    ┃ Size     ┃ Score    ┃ Equivalent ┃
┃ Format         ┃ (B)        ┃ file (s) ┃ file (s) ┃ I/O (s)  ┃ (kB)     ┃ (s+MB)   ┃ DataFrames ┃
┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━┩
│ pkl.xz C=1     │ 0          │ 0.066902 │ 0.029724 │ 0.096626 │ 371.46   │ 0.468086 │ True       │
│ pkl.zst C=9    │ 0          │ 0.027228 │ 0.004945 │ 0.032173 │ 436.742  │ 0.468915 │ True       │
│ pkl.zst C=8    │ 0          │ 0.02788  │ 0.005042 │ 0.032921 │ 436.783  │ 0.469704 │ True       │
│ pkl.zst C=7    │ 0          │ 0.023269 │ 0.005002 │ 0.028271 │ 442.069  │ 0.47034  │ True       │
│ pkl.zst C=6    │ 0          │ 0.021437 │ 0.005073 │ 0.02651  │ 444.039  │ 0.470549 │ True       │
│ pkl.xz C=2     │ 0          │ 0.074048 │ 0.029255 │ 0.103303 │ 369.764  │ 0.473067 │ True       │
│ pkl.zst C=5    │ 0          │ 0.017282 │ 0.005257 │ 0.02254  │ 451.585  │ 0.474125 │ True       │
│ pkl.zst C=0    │ 0          │ 0.009618 │ 0.005595 │ 0.015214 │ 462.505  │ 0.477719 │ True       │
│ pkl.zst        │ 0          │ 0.009834 │ 0.005408 │ 0.015242 │ 462.505  │ 0.477747 │ True       │
│ pkl.zst C=3    │ 0          │ 0.00978  │ 0.005635 │ 0.015415 │ 462.505  │ 0.47792  │ True       │
│ pkl.zst C=4    │ 0          │ 0.010855 │ 0.005507 │ 0.016362 │ 462.757  │ 0.479119 │ True       │
│ pkl.zst C=10   │ 0          │ 0.042559 │ 0.005655 │ 0.048215 │ 435.233  │ 0.483448 │ True       │
│ pkl.xz C=3     │ 0          │ 0.087746 │ 0.029399 │ 0.117144 │ 369.052  │ 0.486196 │ True       │
│ pkl.zst C=13   │ 0          │ 0.063889 │ 0.004812 │ 0.068701 │ 435.398  │ 0.504099 │ True       │
│ pkl.zst C=11   │ 0          │ 0.06555  │ 0.004884 │ 0.070433 │ 434.197  │ 0.50463  │ True       │
│ pkl.zst C=12   │ 0          │ 0.068473 │ 0.004759 │ 0.073232 │ 434.196  │ 0.507428 │ True       │
│ pkl.gzip C=5   │ 0          │ 0.034437 │ 0.010923 │ 0.04536  │ 468.297  │ 0.513657 │ True       │
│ pkl.zip C=5    │ 0          │ 0.034604 │ 0.012787 │ 0.047391 │ 468.383  │ 0.515774 │ True       │
│ pkl.zst C=14   │ 0          │ 0.081397 │ 0.004744 │ 0.08614  │ 433.871  │ 0.520011 │ True       │
│ pkl.gzip C=4   │ 0          │ 0.028319 │ 0.010996 │ 0.039315 │ 481.952  │ 0.521267 │ True       │
│ pkl.zip C=4    │ 0          │ 0.02988  │ 0.012988 │ 0.042868 │ 482.038  │ 0.524906 │ True       │
│ pkl.gzip C=6   │ 0          │ 0.05927  │ 0.010872 │ 0.070142 │ 459.241  │ 0.529383 │ True       │
│ pkl.gzip C=-1  │ 0          │ 0.059705 │ 0.010872 │ 0.070576 │ 459.242  │ 0.529818 │ True       │
│ pkl.zip        │ 0          │ 0.059553 │ 0.012795 │ 0.072348 │ 459.323  │ 0.531671 │ True       │
│ pkl.zip C=6    │ 0          │ 0.059564 │ 0.013034 │ 0.072598 │ 459.327  │ 0.531925 │ True       │
│ pkl.zip C=0    │ 0          │ 0.058728 │ 0.014098 │ 0.072826 │ 459.327  │ 0.532153 │ True       │
│ pkl.zst C=15   │ 0          │ 0.096552 │ 0.004617 │ 0.101169 │ 433.275  │ 0.534444 │ True       │
│ pkl.gzip C=3   │ 0          │ 0.025487 │ 0.010935 │ 0.036421 │ 501.909  │ 0.53833  │ True       │
│ pkl.zip C=3    │ 0          │ 0.026522 │ 0.012902 │ 0.039424 │ 501.995  │ 0.541419 │ True       │
│ pkl.gzip C=2   │ 0          │ 0.022404 │ 0.010909 │ 0.033313 │ 509.243  │ 0.542556 │ True       │
│ pkl.zip C=2    │ 0          │ 0.023648 │ 0.012792 │ 0.03644  │ 509.329  │ 0.545769 │ True       │
│ pkl.zst C=1    │ 0          │ 0.00871  │ 0.005451 │ 0.014161 │ 532.392  │ 0.546553 │ True       │
│ pkl.gzip C=1   │ 0          │ 0.021117 │ 0.011722 │ 0.032839 │ 521.7    │ 0.554539 │ True       │
│ pkl.gzip C=7   │ 0          │ 0.0825   │ 0.010763 │ 0.093264 │ 461.616  │ 0.55488  │ True       │
│ pkl.zip C=7    │ 0          │ 0.082874 │ 0.013287 │ 0.096161 │ 461.702  │ 0.557863 │ True       │
│ pkl.zip C=1    │ 0          │ 0.022937 │ 0.014455 │ 0.037392 │ 521.786  │ 0.559178 │ True       │
│ pkl.zst C=2    │ 0          │ 0.009361 │ 0.006    │ 0.01536  │ 545.763  │ 0.561123 │ True       │
│ pkl.xz C=4     │ 0          │ 0.184893 │ 0.030541 │ 0.215434 │ 371.936  │ 0.58737  │ True       │
│ pkl.zst C=16   │ 0          │ 0.159573 │ 0.004766 │ 0.16434  │ 423.906  │ 0.588246 │ True       │
│ pkl.zst C=17   │ 0          │ 0.183915 │ 0.004845 │ 0.18876  │ 413.464  │ 0.602224 │ True       │
│ pkl.zst C=-2   │ 0          │ 0.007875 │ 0.005279 │ 0.013154 │ 623.081  │ 0.636235 │ True       │
│ pkl.zst C=-1   │ 0          │ 0.008548 │ 0.005635 │ 0.014182 │ 624.83   │ 0.639012 │ True       │
│ pkl.zst C=18   │ 0          │ 0.227581 │ 0.004893 │ 0.232474 │ 410.68   │ 0.643154 │ True       │
│ pkl.gzip C=8   │ 0          │ 0.190315 │ 0.010767 │ 0.201082 │ 463.333  │ 0.664415 │ True       │
│ pkl.xz C=5     │ 0          │ 0.26918  │ 0.029817 │ 0.298997 │ 365.664  │ 0.664661 │ True       │
│ pkl.zip C=8    │ 0          │ 0.192092 │ 0.012866 │ 0.204958 │ 463.419  │ 0.668377 │ True       │
│ parquet.brotli │ 0          │ 0.06673  │ 0.006483 │ 0.073213 │ 623.838  │ 0.697051 │ True       │
│ parquet.gzip   │ 0          │ 0.065546 │ 0.006745 │ 0.072292 │ 661.682  │ 0.733974 │ True       │
│ pkl.xz C=6     │ 0          │ 0.393807 │ 0.030136 │ 0.423943 │ 361.432  │ 0.785375 │ True       │
│ pkl.zst C=-4   │ 0          │ 0.008161 │ 0.005436 │ 0.013597 │ 772.543  │ 0.78614  │ True       │
│ pkl.zst C=-3   │ 0          │ 0.008431 │ 0.005525 │ 0.013956 │ 773.552  │ 0.787508 │ True       │
│ pkl.xz         │ 0          │ 0.396515 │ 0.03005  │ 0.426565 │ 361.432  │ 0.787997 │ True       │
│ pkl.xz C=7     │ 0          │ 0.400494 │ 0.030895 │ 0.431389 │ 361.432  │ 0.792821 │ True       │
│ pkl.xz C=0     │ 0          │ 0.401793 │ 0.030152 │ 0.431945 │ 361.432  │ 0.793377 │ True       │
│ pkl.xz C=9     │ 0          │ 0.407314 │ 0.030049 │ 0.437363 │ 361.432  │ 0.798795 │ True       │
│ pkl.xz C=8     │ 0          │ 0.407321 │ 0.03009  │ 0.437411 │ 361.432  │ 0.798843 │ True       │
│ csv.zst        │ 0          │ 0.270278 │ 0.058942 │ 0.329221 │ 509.054  │ 0.838275 │ True       │
│ pkl.zst C=19   │ 0          │ 0.438444 │ 0.004881 │ 0.443324 │ 406.74   │ 0.850064 │ True       │
│ pkl.zst C=20   │ 0          │ 0.443467 │ 0.00506  │ 0.448526 │ 406.74   │ 0.855266 │ True       │
│ pkl.gzip C=9   │ 0          │ 0.385088 │ 0.010831 │ 0.395919 │ 463.261  │ 0.85918  │ True       │
│ pkl.zip C=9    │ 0          │ 0.387737 │ 0.013024 │ 0.400761 │ 463.347  │ 0.864108 │ True       │
│ csv.zip        │ 0          │ 0.315239 │ 0.066513 │ 0.381752 │ 484.679  │ 0.866431 │ True       │
│ parquet.zstd   │ 0          │ 0.019778 │ 0.004398 │ 0.024176 │ 868.854  │ 0.89303  │ True       │
│ pkl.zst C=-5   │ 0          │ 0.007866 │ 0.004966 │ 0.012832 │ 886.603  │ 0.899435 │ True       │
│ parquet.snappy │ 0          │ 0.019211 │ 0.004611 │ 0.023822 │ 910.929  │ 0.934751 │ True       │
│ parquet.lz4    │ 0          │ 0.01928  │ 0.004417 │ 0.023698 │ 912.739  │ 0.936437 │ True       │
│ pkl.zst C=-6   │ 0          │ 0.008603 │ 0.005276 │ 0.013879 │ 936.419  │ 0.950298 │ True       │
│ pkl.zst C=21   │ 0          │ 0.55541  │ 0.005017 │ 0.560427 │ 406.509  │ 0.966936 │ True       │
│ csv.gz         │ 0          │ 0.464549 │ 0.067121 │ 0.53167  │ 439.988  │ 0.971658 │ True       │
│ pkl.bz2 C=2    │ 0          │ 0.39437  │ 0.047735 │ 0.442105 │ 544.601  │ 0.986706 │ True       │
│ pkl.bz2 C=1    │ 0          │ 0.411058 │ 0.046532 │ 0.45759  │ 539.714  │ 0.997304 │ True       │
│ pkl.bz2 C=3    │ 0          │ 0.410225 │ 0.047801 │ 0.458026 │ 547.742  │ 1.005768 │ True       │
│ csv.bz2        │ 0          │ 0.538349 │ 0.107694 │ 0.646044 │ 373.99   │ 1.020034 │ True       │
│ pkl.bz2 C=4    │ 0          │ 0.434945 │ 0.048673 │ 0.483619 │ 549.171  │ 1.03279  │ True       │
│ pkl.zst C=-7   │ 0          │ 0.008235 │ 0.005014 │ 0.013249 │ 1030.754 │ 1.044003 │ True       │
│ pkl.bz2 C=5    │ 0          │ 0.458665 │ 0.049443 │ 0.508108 │ 555.601  │ 1.063709 │ True       │
│ pkl.zst C=22   │ 0          │ 0.660843 │ 0.005556 │ 0.666399 │ 406.386  │ 1.072785 │ True       │
│ pkl.bz2 C=6    │ 0          │ 0.477183 │ 0.049917 │ 0.527099 │ 557.673  │ 1.084772 │ True       │
│ pkl.bz2 C=8    │ 0          │ 0.502284 │ 0.051353 │ 0.553637 │ 557.036  │ 1.110673 │ True       │
│ pkl.bz2 C=9    │ 0          │ 0.520503 │ 0.049625 │ 0.570128 │ 558.608  │ 1.128736 │ True       │
│ pkl.bz2 C=7    │ 0          │ 0.528315 │ 0.049042 │ 0.577357 │ 557.762  │ 1.135119 │ True       │
│ pkl.bz2        │ 0          │ 0.538125 │ 0.051626 │ 0.589751 │ 558.608  │ 1.148359 │ True       │
│ feather        │ 0          │ 0.011182 │ 0.003999 │ 0.01518  │ 1168.73  │ 1.18391  │ True       │
│ parquet        │ 0          │ 0.019017 │ 0.00925  │ 0.028268 │ 1169.968 │ 1.198236 │ True       │
│ csv.xz         │ 0          │ 1.868752 │ 0.082101 │ 1.950853 │ 272.876  │ 2.223729 │ True       │
│ orc            │ 0          │ 0.026451 │ 0.008196 │ 0.034647 │ 3624.476 │ 3.659123 │ True       │
│ pkl.gzip       │ 0          │ 0.004734 │ 0.0037   │ 0.008434 │ 3729.165 │ 3.737599 │ True       │
│ pkl.gzip C=0   │ 0          │ 0.004744 │ 0.003767 │ 0.008511 │ 3729.165 │ 3.737676 │ True       │
│ pkl            │ 0          │ 0.005251 │ 0.003751 │ 0.009002 │ 3729.165 │ 3.738167 │ True       │
│ csv            │ 0          │ 0.323301 │ 0.056855 │ 0.380157 │ 5154.89  │ 5.535047 │ True       │
│ h5             │ 709932     │ 0.033436 │ 0.012166 │ 0.045602 │ 5498.248 │ 5.54385  │ True       │
└────────────────┴────────────┴──────────┴──────────┴──────────┴──────────┴──────────┴────────────┘
```
